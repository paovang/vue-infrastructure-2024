import{s as y}from"./inputtext.esm-Ja8AIr6s.js";import{a as b}from"./vee-validate.esm-RRM2BQeV.js";import{d as h,H as v,e as m,g as s,K as g,t as u,h as c,y as w,a3 as B,n as V,f as N,j as p}from"./index-7hT8Cx7_.js";import{s as F}from"./toast-FY7odgkM.js";const k={class:"flex flex-column gap-2 mb-3"},C=["for"],T={key:0,class:"text-red-500"},_=["id"],E=h({__name:"FormInputFile",props:{name:{},label:{},required:{type:Boolean},placeholder:{},value:{},isEditing:{type:Boolean},multiple:{type:Boolean},disabled:{type:Boolean}},setup(i){const l=i,{value:o,errorMessage:r}=b(()=>l.name),a=v();l.value&&(o.value=l.value);const d=["country","province","district"],t=(a==null?void 0:a.name)!==null&&(a==null?void 0:a.name)!==void 0&&d.includes(a.name);return(e,n)=>(p(),m("div",k,[s(t)?c("",!0):(p(),m("label",{key:0,for:e.name},[g(u(e.label)+" ",1),e.required?(p(),m("span",T," *")):c("",!0)],8,C)),w(s(y),{modelValue:s(o),"onUpdate:modelValue":n[0]||(n[0]=f=>B(o)?o.value=f:null),id:e.name,class:V({"p-invalid":s(r)}),type:"file","aria-describedby":`text-error-${e.name}`,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled},null,8,["modelValue","id","class","aria-describedby","placeholder","multiple","disabled"]),N("small",{class:"p-error",id:`text-error-${e.name}`},u(s(r)),9,_)]))}});async function S({axios:i,file:l,state:o,selectedImage:r,toast:a,t:d}){var t;o.btnLoading=!0;try{let e=new FormData;e.append("file",l);const n=await i.post("https://api.hellonewyears.com/api/customer/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}});r.value=(t=n.data)==null?void 0:t.filename,o.btnLoading=!1}catch(e){await F({toast:a,error:"error",summary:d("toast.summary.error"),detail:e})}}export{E as _,S as u};
