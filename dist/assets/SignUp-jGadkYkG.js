import{d as x,u as z,K as B,a as N,o as E,r as w,e as P,f as s,t as _,y as i,g as l,O as A,Q as D,p as L,k as O,j as R,P as j,_ as K}from"./index-P9d5dFni.js";import{_ as p}from"./FormInputText.vue_vue_type_script_setup_true_lang-yuxsGae3.js";import{_ as Q,u as W}from"./upload-file-_zUn1Ud9.js";import{s as y}from"./divider.esm-f0C61naS.js";import{_ as $}from"./FormInputPassword.vue_vue_type_script_setup_true_lang-c_3N2W-G.js";import{u as G}from"./vee-validate.esm-bhCrBSI7.js";import{c as H,a as n}from"./index.esm-Yz5R20E0.js";import{h as J}from"./home.store-slfSCUkS.js";import{s as X}from"./dropdown.esm-eIYgKchz.js";import{a as Y}from"./axios.config-jCy-uYyV.js";import{v as Z,s as S,i as M}from"./toast-FY7odgkM.js";import{s as ee}from"./scroll-top-GikMqvpz.js";import"./inputtext.esm-CiJKgL5S.js";import"./index.esm-yzazTon8.js";import"./overlayeventbus.esm-jjCDdLFs.js";import"./format.date--bimoUa2.js";const se=r=>H({name:n().required(r.name),address:n().required(r.address),phone_number:n().required(r.phone_number),email:n().required(r.email),password:n().required(r.password),password_confirmation:n().required(r.password_confirmation)}),ae=se,g=r=>(L("data-v-321f3a37"),r=r(),O(),r),oe={class:"signup-form"},re={style:{"font-size":"20px","font-weight":"bold"}},ie={style:{"font-weight":"normal","font-size":"16px",color:"brown","margin-top":"10px !important"}},le=g(()=>s("br",null,null,-1)),te={class:"columns is-12 is-multiline"},ne={class:"column is-6 is-mobile-12"},de=g(()=>s("span",{class:"text-red-500"}," *",-1)),me={class:"column is-6 is-mobile-12",style:{"margin-top":"-10px"}},pe={class:"column is-12 is-mobile-12 is-margin-top"},ce={class:"column is-6 is-mobile-12 is-margin-top"},ue={class:"column is-6 is-mobile-12 is-margin-top"},he={class:"column is-6 is-mobile-12 is-margin-top"},fe={class:"column is-6 is-mobile-12 is-margin-pass-confirm"},_e={class:"column is-12 is-mobile-12 is-margin-top"},ge=g(()=>s("br",null,null,-1)),be=x({__name:"SignUp",setup(r){const{formSignUp:a,countries:c,getAllData:T,state:d,register:v}=J(),{t:o}=z(),m=B(),q=N(),V={name:o("placeholder.inputText"),address:o("placeholder.inputText"),phone_number:o("placeholder.inputText"),email:o("placeholder.inputText"),password:o("placeholder.inputText"),password_confirmation:o("placeholder.inputText")},{handleSubmit:F,handleReset:I}=G({validationSchema:ae(V)});E(async()=>{await C(),await I(),await T(),a.country_id=c.data.props.length>0?c.data.props[0].id:null});const b=F(async e=>{a.name=String(e.name),a.address=String(e.address),a.email=String(e.email),a.phone_number=String(e.phone_number),a.password=String(e.password),a.password_confirmation=String(e.password_confirmation),a.profile=u.value,a.isValidToServer=!0,await v(),d.error?await U():q.push({name:"confirm.sign.up",query:{name:e.name,address:e.address,email:e.email,phone_number:e.phone_number,password:e.password,password_confirmation:e.password_confirmation,profile:u.value,country_id:a.country_id}})}),U=()=>{m.add({severity:"error",summary:o("toast.summary.error"),detail:`${d.error}`,life:3e3})},u=w(),k=async e=>{const t=e.target.files[0];if(!await Z(t)){await S({toast:m,error:"error",summary:o("toast.summary.error"),detail:o("toast.summary.profile_valid_file_mimes")}),e.target.value="";return}if(!await M(t)){await S({toast:m,error:"error",summary:o("toast.summary.error"),detail:o("toast.summary.profile_valid_file_size")}),e.target.value="";return}await W({axios:Y,file:t,state:d,selectedImage:u,toast:m,t:o})},h=w(),C=async()=>{h.value&&await ee(h)};return(e,t)=>(R(),P("div",oe,[s("h2",re,_(e.$t("messages.sign_up")),1),i(l(y)),s("p",ie," * "+_(e.$t("messages.warning_sign_up")),1),le,s("form",{onSubmit:t[1]||(t[1]=D((...f)=>l(b)&&l(b)(...f),["prevent"]))},[s("div",te,[s("div",ne,[s("label",null,[A(_(e.$t("messages.country"))+" ",1),de]),i(l(X),{name:"countries",modelValue:l(a).country_id,"onUpdate:modelValue":t[0]||(t[0]=f=>l(a).country_id=f),options:l(c).data.props,optionLabel:"name",placeholder:e.$t("placeholder.dropdownSelect"),class:"w-full",optionValue:"id",highlightOnSelect:!0,ref_key:"autoFocusCursor",ref:h},null,8,["modelValue","options","placeholder"])]),s("div",me,[i(p,{name:"name",label:e.$t("messages.full_name"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",pe,[i(p,{name:"address",label:e.$t("messages.address"),required:"",placeholder:e.$t("placeholder.inputTextAddress"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ce,[i(p,{name:"phone_number",label:e.$t("messages.phone_number"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ue,[i(p,{name:"email",label:e.$t("messages.email"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",he,[i($,{name:"password",label:e.$t("messages.password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",fe,[i($,{name:"password_confirmation",label:e.$t("messages.confirm_password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",_e,[i(Q,{name:"profile",label:e.$t("messages.profile"),required:"",multiple:!0,class:"h-full",onChange:k},null,8,["label"])])]),i(l(y)),ge,i(l(j),{class:"w-full surface-500 border-none",type:"submit",label:e.$t("button.sign_up"),loading:l(d).btnLoading},null,8,["label","loading"])],32)]))}}),Ne=K(be,[["__scopeId","data-v-321f3a37"]]);export{Ne as default};
