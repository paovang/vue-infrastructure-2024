import{a as P}from"./user.store-4IPsx5dg.js";import{s as v}from"./divider.esm-EI2gf5z0.js";import{d as S,a as R,Q as E,o as L,e as k,f as l,t as n,j as s,g as e,H as r,p as I,m as C,l as U,b as c,s as h,L as d,_ as A}from"./index-wbPgRN5F.js";import{s as i,a as N}from"./column.esm-_n0Ke4KS.js";import{b as T}from"./concat-ZmUf8qUH.js";import{s as D}from"./image.esm-BccvBMPw.js";import{v as u}from"./validation-permissions-4-m-0SyB.js";import"./axios.config-8JNuCx_V.js";import"./paginator.esm-1A1JLaV0.js";import"./dropdown.esm-d5sa9Sdd.js";import"./overlayeventbus.esm-Z5UthOl9.js";import"./inputnumber.esm-iW4TCE4z.js";import"./inputtext.esm-21wM76F3.js";import"./index.esm-7bkRsi17.js";import"./checkbox.esm-4Fmcz_Ar.js";import"./index.esm-5zz3kkAt.js";import"./format.currency-CcPyHQva.js";import"./index.esm-cxeXchLk.js";const M=p=>(I("data-v-119cb7d2"),p=p(),C(),p),x={class:"card"},B={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},V={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},j={class:"mb-3"},z=M(()=>l("br",null,null,-1)),F={class:"flex flex-wrap gap-2 btn-right"},O=S({__name:"ListUsers",setup(p){const{getAll:g,state:m,setStateFilter:o}=P(),b=R(),w=async t=>{b.push({name:"admin.edit.user",params:{id:t}})},y=async()=>{b.push({name:"admin.add.user"})},_=E(()=>{let t=0;return o.page&&o.limit&&(t=(o.page-1)*o.limit),t});async function $(t){o.page=t.page+1,o.limit=t.rows,await f()}L(async()=>{await f()});const f=async()=>{await g()};return(t,G)=>(U(),k("div",x,[l("div",B,[l("span",V,[l("h2",j,n(t.$t("table.title.user")),1)]),l("span",null,[s(e(h),{label:t.$t("button.add"),severity:"info",onClick:y,disabled:e(u)(e(c).ADMIN_USER.CREATE)},null,8,["label","disabled"])])]),s(e(v)),z,s(e(N),{value:e(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:e(m).isLoading,lazy:"",totalRecords:e(m).data.total,onPage:$,first:_.value,rows:e(o).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${t.$t("table.pagination.show")} {first} ${t.$t("table.pagination.to")} {last} ${t.$t("table.pagination.from")} {totalRecords} ${t.$t("table.pagination.row")}`},{default:r(()=>[s(e(i),{field:"id",header:t.$t("table.header.index")},{body:r(a=>[d(n(a.index+1),1)]),_:1},8,["header"]),s(e(i),{field:"profile",header:t.$t("table.header.profile"),headerStyle:"min-width: 8rem",frozen:""},{body:r(({data:a})=>[s(e(D),{src:a.profile,alt:"Image",preview:"",style:{"max-width":"80px"}},null,8,["src"])]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.name")},{body:r(({data:a})=>[d(n(a.name),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.email")},{body:r(({data:a})=>[d(n(a.email),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.role")},{body:r(({data:a})=>[d(n(a.role.name),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.permission")},{body:r(({data:a})=>[d(n(e(T)(a.permissions)),1)]),_:1},8,["header"]),s(e(i),{headerStyle:"width: 10rem"},{body:r(({data:a})=>[l("div",F,[s(e(h),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:H=>w(a.id),disabled:e(u)(e(c).ADMIN_USER.UPDATE)},null,8,["onClick","disabled"]),s(e(h),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"},disabled:e(u)(e(c).ADMIN_USER.DELETE)},null,8,["disabled"])])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),pe=A(O,[["__scopeId","data-v-119cb7d2"]]);export{pe as default};
