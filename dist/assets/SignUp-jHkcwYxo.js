import{d as U,u as I,M as x,I as B,c as k,e as n,t as w,v as s,f as t,Q as E,V as F,p as N,i as v,o as D,U as L,_ as z}from"./index-rbCP5Ig9.js";import{_ as d}from"./FormInputText.vue_vue_type_script_setup_true_lang-2atBnGl3.js";import{s as _}from"./divider.esm-zFSXg2DL.js";import{_ as g}from"./FormInputPassword.vue_vue_type_script_setup_true_lang-GTtsZwb-.js";import{c as A,a as r,u as C}from"./index.esm-AQvIhrtO.js";import{h as O}from"./home.store-xUGxhiNi.js";import{s as Q}from"./dropdown.esm-dcyYKwNr.js";import"./inputtext.esm-qgCDNmDE.js";import"./axios.config-BCWtO51O.js";import"./format.date--bimoUa2.js";import"./index.esm-obkyY8oI.js";const R=a=>A({name:r().required(a.name),owner:r().required(a.owner),address:r().required(a.address),phone_number:r().required(a.phone_number),email:r().required(a.email),password:r().required(a.password),password_confirmation:r().required(a.password_confirmation)}),W=R,m=a=>(N("data-v-0183c3be"),a=a(),v(),a),j={class:"signup-form"},G={style:{"font-size":"20px","font-weight":"bold"}},H=m(()=>n("br",null,null,-1)),J=m(()=>n("span",{class:"text-red-500"}," *",-1)),K=m(()=>n("br",null,null,-1)),P=m(()=>n("br",null,null,-1)),X=U({__name:"SignUp",setup(a){const{formSignUp:l,countries:i,getAllData:h,state:u,register:$}=O(),{t:o}=I(),f=x(),y={name:o("placeholder.inputText"),owner:o("placeholder.inputText"),address:o("placeholder.inputText"),phone_number:o("placeholder.inputText"),email:o("placeholder.inputText"),password:o("placeholder.inputText"),password_confirmation:o("placeholder.inputText")},{handleSubmit:T,handleReset:S}=C({validationSchema:W(y)});B(async()=>{await h(),l.country_id=i.data.props.length>0?i.data.props[0].id:null});const b=T(async e=>{l.name=e.name,l.owner=e.owner,l.address=e.address,l.email=e.email,l.phone_number=e.phone_number,l.password=e.password,l.password_confirmation=e.password_confirmation,await $(),u.error?await q():(await V(),await S(),await h(),l.country_id=i.data.props.length>0?i.data.props[0].id:null)}),q=()=>{f.add({severity:"error",summary:o("toast.summary.error"),detail:`${u.error}`,life:3e3})},V=()=>{f.add({severity:"success",summary:o("toast.summary.success"),detail:o("toast.detail.successfully"),life:3e3})};return(e,p)=>(D(),k("div",j,[n("h2",G,w(e.$t("messages.sign_up")),1),s(t(_)),H,n("form",{onSubmit:p[1]||(p[1]=F((...c)=>t(b)&&t(b)(...c),["prevent"]))},[n("label",null,[E(w(e.$t("messages.country"))+" ",1),J]),s(t(Q),{name:"countries",modelValue:t(l).country_id,"onUpdate:modelValue":p[0]||(p[0]=c=>t(l).country_id=c),options:t(i).data.props,optionLabel:"name",placeholder:e.$t("placeholder.dropdownSelect"),class:"w-full",optionValue:"id",highlightOnSelect:!0},null,8,["modelValue","options","placeholder"]),s(d,{style:{"margin-top":"20px"},name:"name",label:e.$t("messages.name"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"]),s(d,{name:"owner",label:e.$t("messages.owner"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"]),s(d,{name:"address",label:e.$t("messages.address"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"]),s(d,{name:"phone_number",label:e.$t("messages.phone_number"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"]),s(d,{name:"email",label:e.$t("messages.email"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"]),s(g,{name:"password",label:e.$t("messages.password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"]),s(g,{style:{"margin-top":"20px"},name:"password_confirmation",label:e.$t("messages.confirm_password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"]),K,s(t(_)),P,s(t(L),{class:"w-full surface-500 border-none",type:"submit",label:e.$t("button.sign_up"),loading:t(u).btnLoading},null,8,["label","loading"])],32)]))}}),ie=z(X,[["__scopeId","data-v-0183c3be"]]);export{ie as default};
