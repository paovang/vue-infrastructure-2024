import{i as _,a as p,A as S,b as F}from"./axios.config--CckdG2z.js";import{K as G,L as v}from"./index-HCy8wx5B.js";var K=Object.defineProperty,q=Object.getOwnPropertyDescriptor,z=(e,t,r,s)=>{for(var a=s>1?void 0:s?q(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&K(t,r,a),a},B=(e,t)=>(r,s)=>t(r,s,e);let l=class{constructor(e){this._api=e}async create(e){return{data:(await this._api.axios({method:"post",url:"/admin/create-footer",data:{name:e.name}})).data,message:"ສຳເລັດເເລ້ວ",status:"success"}}async update(e){return{data:(await this._api.axios({method:"put",url:`/admin/update-footer/${e.id}`,data:{name:e.name}})).data,message:"ອັບເດດ ສຳເລັດ",status:"success"}}async delete(e){return{data:(await this._api.axios({method:"delete",url:`/admin/delete-footer/${e}`})).data,message:"ສຳເລັດເເລ້ວ.",status:"success"}}async getAll(e){var a,o,i,u,h,g,y;const t=await this._api.axios({url:"/admin/report-real-estate-list",params:{page:e.page,per_page:e.limit,room_type:(a=e.filter)==null?void 0:a.room_type,real_estate_type_id:(o=e.filter)==null?void 0:o.real_estate_type_id,service_model:(i=e.filter)==null?void 0:i.service_model,search:(u=e.filter)==null?void 0:u.search,district_id:(h=e.filter)==null?void 0:h.district_id,province_id:(g=e.filter)==null?void 0:g.province_id,country_id:(y=e.filter)==null?void 0:y.country_id}}),{data:r,pagination:s}=t.data.data;return{data:{props:r,total:s.total},status:"success"}}async getCountries(){return(await this._api.axios({url:"/countries"})).data}async getAllProvinces(e){return(await this._api.axios({url:`/provinces/${e}`})).data}async getAllDistricts(e){return(await this._api.axios({url:`/districts/${e}`})).data}async reportRealEstateTypes(){return await this._api.axios({url:"/admin/dashboard"})}};l=z([_(),B(0,p(S))],l);var H=Object.defineProperty,I=Object.getOwnPropertyDescriptor,J=(e,t,r,s)=>{for(var a=s>1?void 0:s?I(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&H(t,r,a),a},M=(e,t)=>(r,s)=>t(r,s,e);let w=class{constructor(e){this._api=e}async execute(e){return await this._api.create(e)}};w=J([_(),M(0,p(l))],w);var N=Object.defineProperty,Q=Object.getOwnPropertyDescriptor,V=(e,t,r,s)=>{for(var a=s>1?void 0:s?Q(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&N(t,r,a),a},W=(e,t)=>(r,s)=>t(r,s,e);let m=class{constructor(e){this._api=e}async execute(e){try{return await this._api.getAll(e)}catch(t){t.response.status===422&&Object.keys(t.response.data.errors).map(r=>`${r}: ${t.response.data.errors[r].join(", ")}`).join("; ")}}};m=V([_(),W(0,p(l))],m);var X=Object.defineProperty,Y=Object.getOwnPropertyDescriptor,Z=(e,t,r,s)=>{for(var a=s>1?void 0:s?Y(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&X(t,r,a),a},k=(e,t)=>(r,s)=>t(r,s,e);let $=class{constructor(e){this._api=e}async execute(e){return await this._api.update(e)}};$=Z([_(),k(0,p(l))],$);var ee=Object.defineProperty,te=Object.getOwnPropertyDescriptor,ae=(e,t,r,s)=>{for(var a=s>1?void 0:s?te(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&ee(t,r,a),a},se=(e,t)=>(r,s)=>t(r,s,e);let O=class{constructor(e){this._api=e}async execute(e){return await this._api.delete(e)}};O=ae([_(),se(0,p(l))],O);var re=Object.defineProperty,ie=Object.getOwnPropertyDescriptor,oe=(e,t,r,s)=>{for(var a=s>1?void 0:s?ie(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&re(t,r,a),a},ne=(e,t)=>(r,s)=>t(r,s,e);let b=class{constructor(e){this._api=e}async execute(){return await this._api.reportRealEstateTypes()}};b=oe([_(),ne(0,p(l))],b);var ce=Object.defineProperty,pe=Object.getOwnPropertyDescriptor,le=(e,t,r,s)=>{for(var a=s>1?void 0:s?pe(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&ce(t,r,a),a},_e=(e,t)=>(r,s)=>t(r,s,e);let j=class{constructor(e){this._api=e}async execute(){return await this._api.getCountries()}};j=le([_(),_e(0,p(l))],j);var ue=Object.defineProperty,de=Object.getOwnPropertyDescriptor,fe=(e,t,r,s)=>{for(var a=s>1?void 0:s?de(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&ue(t,r,a),a},ve=(e,t)=>(r,s)=>t(r,s,e);let D=class{constructor(e){this._api=e}async execute(e){return await this._api.getAllProvinces(e)}};D=fe([_(),ve(0,p(l))],D);var he=Object.defineProperty,ge=Object.getOwnPropertyDescriptor,ye=(e,t,r,s)=>{for(var a=s>1?void 0:s?ge(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&he(t,r,a),a},Pe=(e,t)=>(r,s)=>t(r,s,e);let C=class{constructor(e){this._api=e}async execute(e){return await this._api.getAllDistricts(e)}};C=ye([_(),Pe(0,p(l))],C);var we=Object.defineProperty,me=Object.getOwnPropertyDescriptor,$e=(e,t,r,s)=>{for(var a=s>1?void 0:s?me(t,r):t,o=e.length-1,i;o>=0;o--)(i=e[o])&&(a=(s?i(t,r,a):i(a))||a);return s&&a&&we(t,r,a),a},f=(e,t)=>(r,s)=>t(r,s,e);let x=class{constructor(e,t,r,s,a,o,i,u){this._create=e,this._getAll=t,this._update=r,this._delete=s,this._reportRealEstateType=a,this._getCountry=o,this._getProvince=i,this._getDistrict=u}async register(e){return await this._create.execute(e)}async update(e){return await this._update.execute(e)}async delete(e){return await this._delete.execute(e)}async getCountries(){return await this._getCountry.execute()}async getAllProvinces(e){return await this._getProvince.execute(e)}async getAllDistricts(e){return await this._getDistrict.execute(e)}async getAll(e){return await this._getAll.execute(e)}async reportRealEstateTypes(){return await this._reportRealEstateType.execute()}};x=$e([_(),f(0,p(w)),f(1,p(m)),f(2,p($)),f(3,p(O)),f(4,p(b)),f(5,p(j)),f(6,p(D)),f(7,p(C))],x);const je=G("dashboard-store",()=>{const e=F.resolve(x),t=v({data:{props:[],total:0},isLoading:!1,btnLoading:!1,error:""}),r=v({data:{props:[]}}),s=v({data:{props:[]}}),a=v({data:{props:[]}}),o=v({data:{props:[]}}),i=v({page:1,limit:10,filter:{real_estate_type_id:"",service_model:"",room_type:"",search:"",district_id:"",province_id:"",country_id:""}}),u=v({});async function h(){t.isLoading=!0,t.btnLoading=!0;try{await e.register(u),await P(),t.error=""}catch(n){let c="";n.response.status===422&&(c=Object.keys(n.response.data.errors).map(d=>`${d}: ${n.response.data.errors[d].join(", ")}`).join("; ")),t.error=c}t.isLoading=!1,t.btnLoading=!1}async function g(){t.isLoading=!0,t.btnLoading=!0;try{await e.update(u),await P(),await U(),t.error=""}catch(n){let c="";n.response.status===422&&(c=Object.keys(n.response.data.errors).map(d=>`${d}: ${n.response.data.errors[d].join(", ")}`).join("; ")),t.error=c}t.isLoading=!1,t.btnLoading=!1}async function y(n){t.isLoading=!0;try{await e.delete(n),await P(),t.error=""}catch(c){let d="";c.response.status===422&&(d=Object.keys(c.response.data.errors).map(A=>`${A}: ${c.response.data.errors[A].join(", ")}`).join("; ")),t.error=d}t.isLoading=!1}async function L(){t.isLoading=!0;const n=await e.reportRealEstateTypes();n&&n.data&&n.message==="success"&&(r.data.props=n.data,t.isLoading=!1)}async function P(){t.isLoading=!0;const n=await e.getAll({page:i.page,limit:i.limit,filter:i.filter});n&&n.data&&(n==null?void 0:n.status)=="success"&&(t.data.props=n.data.props,t.data.total=n.data.total,t.isLoading=!1)}async function E(){const n=await e.getCountries();n&&n.data&&(n==null?void 0:n.message)==="success"&&(s.data.props=n.data)}async function R(n){const c=await e.getAllProvinces(n);c&&c.data&&(c==null?void 0:c.message)==="success"&&(a.data.props=c.data)}async function T(n){const c=await e.getAllDistricts(n);c&&c.data&&(c==null?void 0:c.message)==="success"&&(o.data.props=c.data)}async function U(){}return{register:h,update:g,remove:y,reportRealEstateTypes:L,getAllRealEstate:P,form:u,setStateFilter:i,state:t,getAllCountries:E,getCountries:s,getAllProvinces:R,getProvinces:a,getAllDistricts:T,getDistricts:o,getRealEstateTypes:r}});export{je as d};
