import{o as L}from"./user.store-skP82pMl.js";import{s as S}from"./divider.esm-HeB-4usy.js";import{d as R,u as D,M as j,N as I,a as U,P as N,o as T,e as x,f as d,t as l,y as r,g as t,E as o,p as z,k as A,j as B,U as u,Q as c,_ as V}from"./index-bgL8X-Vz.js";import{s as n,a as E}from"./column.esm-ZaFqoMMF.js";import{c as F}from"./concat-9eYZKFoS.js";import{s as M}from"./image.esm-42PBObwS.js";import"./axios.config-gXfSTYZr.js";import"./paginator.esm-Wo_OKrja.js";import"./dropdown.esm-kBrI3kap.js";import"./overlayeventbus.esm-Dh5SKjDP.js";import"./inputnumber.esm-4Cwp0Evo.js";import"./inputtext.esm-zGjb6H1F.js";import"./index.esm-7Ogb4HD4.js";import"./checkbox.esm-WlwsJbla.js";import"./index.esm-0n_gwSSA.js";import"./index.esm-G7ULdmLA.js";const q=p=>(z("data-v-bf9a4592"),p=p(),A(),p),O={class:"card"},Q={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},G={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},H={class:"mb-3"},J=q(()=>d("br",null,null,-1)),K={class:"flex flex-wrap gap-2"},W=R({__name:"ListUsers",setup(p){const{t:s}=D(),h=j(),g=I(),{remove:b,getAll:w,state:m,setStateFilter:i}=L(),f=U(),_=async e=>{f.push({name:"owner.edit.user",params:{id:e}})},$=async()=>{f.push({name:"owner.add.user"})},v=N(()=>{let e=0;return i.page&&i.limit&&(e=(i.page-1)*i.limit),e});async function P(e){i.page=e.page+1,i.limit=e.rows,await y()}const k=async e=>{g.require({message:s("confirmDelete.message"),header:s("confirmDelete.header"),rejectLabel:s("confirmDelete.rejectLabel"),acceptLabel:s("confirmDelete.acceptLabel"),rejectClass:"p-button-secondary p-button-outlined",acceptClass:"p-button-danger",accept:async()=>{await b(e),h.add({severity:"success",summary:s("toast.summary.delete"),detail:s("toast.detail.delete"),life:3e3})},reject:()=>{h.add({severity:"error",summary:s("toast.summary.cancel_delete"),detail:s("toast.detail.cancel_delete"),life:3e3})}})};T(async()=>{await y()});const y=async()=>{await w()};return(e,X)=>(B(),x("div",O,[d("div",Q,[d("span",G,[d("h2",H,l(e.$t("table.title.user")),1)]),d("span",null,[r(t(u),{label:e.$t("button.add"),severity:"info",onClick:$},null,8,["label"])])]),r(t(S)),J,r(t(E),{value:t(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:t(m).isLoading,lazy:"",totalRecords:t(m).data.total,onPage:P,first:v.value,scrollable:"",rows:t(i).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${e.$t("table.pagination.show")} {first} ${e.$t("table.pagination.to")} {last} ${e.$t("table.pagination.from")} {totalRecords} ${e.$t("table.pagination.row")}`},{default:o(()=>[r(t(n),{field:"id",header:e.$t("table.header.index")},{body:o(a=>[c(l(a.index+1),1)]),_:1},8,["header"]),r(t(n),{headerStyle:"min-width: 8rem",frozen:""},{body:o(({data:a})=>[d("div",K,[r(t(u),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:C=>_(a.id)},null,8,["onClick"]),r(t(u),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"},onClick:C=>k(a.id)},null,8,["onClick"])])]),_:1}),r(t(n),{field:"profile",header:e.$t("table.header.profile"),headerStyle:"min-width: 8rem",frozen:""},{body:o(({data:a})=>[r(t(M),{src:a.profile,alt:"Image",preview:"",style:{"max-width":"80px"}},null,8,["src"])]),_:1},8,["header"]),r(t(n),{header:e.$t("table.header.name"),headerStyle:"min-width: 10rem"},{body:o(({data:a})=>[c(l(a.name),1)]),_:1},8,["header"]),r(t(n),{header:e.$t("table.header.email"),headerStyle:"min-width: 3rem"},{body:o(({data:a})=>[c(l(a.email),1)]),_:1},8,["header"]),r(t(n),{header:e.$t("table.header.role"),headerStyle:"min-width: 8rem"},{body:o(({data:a})=>[c(l(a.role.name),1)]),_:1},8,["header"]),r(t(n),{header:e.$t("table.header.permission"),headerStyle:"min-width: 20rem"},{body:o(({data:a})=>[c(l(t(F)(a.permissions)),1)]),_:1},8,["header"])]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),he=V(W,[["__scopeId","data-v-bf9a4592"]]);export{he as default};
