import{a as y}from"./user.store-yOv_FbKe.js";import{s as $}from"./divider.esm-jV1XlXJM.js";import{d as P,a as v,O as k,H as L,c as R,b as d,t as n,q as o,e as t,z as r,p as C,h as S,o as U,Q as u,P as p,_ as x}from"./index-yek1mn7E.js";import{s as l,a as I}from"./column.esm-1CuZs-Dn.js";import"./axios.config--_JM1QNx.js";import"./dropdown.esm-IZ0E9-4b.js";import"./index.esm-o8nBkmt6.js";import"./inputnumber.esm-Nn9l_j-n.js";import"./inputtext.esm-BklhKf_6.js";import"./index.esm-dOjq3yKC.js";import"./checkbox.esm-Lsj5oC15.js";import"./index.esm-KoJT9sUO.js";function N(i){return i.map(c=>c.name).join(", ")}const T=i=>(C("data-v-a1751414"),i=i(),S(),i),A={class:"card"},B={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},V={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},j={class:"mb-3"},z=T(()=>d("br",null,null,-1)),D={class:"flex flex-wrap gap-2 btn-right"},F=P({__name:"ListUsers",setup(i){const{getAll:c,state:m,setStateFilter:s}=y(),h=v(),f=async e=>{h.push({name:"admin.edit.user",params:{id:e}})},b=async()=>{h.push({name:"admin.add.user"})},w=k(()=>{let e=0;return s.page&&s.limit&&(e=(s.page-1)*s.limit),e});async function _(e){s.page=e.page+1,s.limit=e.rows,await g()}L(async()=>{await g()});const g=async()=>{await c()};return(e,O)=>(U(),R("div",A,[d("div",B,[d("span",V,[d("h2",j,n(e.$t("table.title.user")),1)]),d("span",null,[o(t(u),{icon:"pi pi-plus-circle",rounded:"",onClick:b})])]),o(t($)),z,o(t(I),{value:t(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:t(m).isLoading,lazy:"",totalRecords:t(m).data.total,onPage:_,first:w.value,rows:t(s).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${e.$t("table.pagination.show")} {first} ${e.$t("table.pagination.to")} {last} ${e.$t("table.pagination.from")} {totalRecords} ${e.$t("table.pagination.row")}`},{default:r(()=>[o(t(l),{field:"id",header:e.$t("table.header.index")},{body:r(a=>[p(n(a.index+1),1)]),_:1},8,["header"]),o(t(l),{header:e.$t("table.header.name")},{body:r(({data:a})=>[p(n(a.name),1)]),_:1},8,["header"]),o(t(l),{header:e.$t("table.header.email")},{body:r(({data:a})=>[p(n(a.email),1)]),_:1},8,["header"]),o(t(l),{header:e.$t("table.header.role")},{body:r(({data:a})=>[p(n(a.role.name),1)]),_:1},8,["header"]),o(t(l),{header:e.$t("table.header.permission")},{body:r(({data:a})=>[p(n(t(N)(a.permissions)),1)]),_:1},8,["header"]),o(t(l),{headerStyle:"width: 10rem"},{body:r(({data:a})=>[d("div",D,[o(t(u),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:q=>f(a.id)},null,8,["onClick"]),o(t(u),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"}})])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),te=x(F,[["__scopeId","data-v-a1751414"]]);export{te as default};
