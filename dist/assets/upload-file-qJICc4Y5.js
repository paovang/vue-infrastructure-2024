import{s as y}from"./inputtext.esm-65n-ALig.js";import{a as b}from"./vee-validate.esm-uzitR4os.js";import{d as h,I as v,e as m,g as s,L as g,t as u,i as c,j as B,a2 as V,n as w,f as N,l as p}from"./index-YFzNdF9a.js";import{s as F}from"./toast-FY7odgkM.js";const k={class:"flex flex-column gap-2 mb-3"},C=["for"],L={key:0,class:"text-red-500"},T=["id"],E=h({__name:"FormInputFile",props:{name:{},label:{},required:{type:Boolean},placeholder:{},value:{},isEditing:{type:Boolean},multiple:{type:Boolean},disabled:{type:Boolean}},setup(n){const l=n,{value:o,errorMessage:r}=b(()=>l.name),a=v();l.value&&(o.value=l.value);const d=["country","province","district"],t=(a==null?void 0:a.name)!==null&&(a==null?void 0:a.name)!==void 0&&d.includes(a.name);return(e,i)=>(p(),m("div",k,[s(t)?c("",!0):(p(),m("label",{key:0,for:e.name},[g(u(e.label)+" ",1),e.required?(p(),m("span",L," *")):c("",!0)],8,C)),B(s(y),{modelValue:s(o),"onUpdate:modelValue":i[0]||(i[0]=f=>V(o)?o.value=f:null),id:e.name,class:w({"p-invalid":s(r)}),type:"file","aria-describedby":`text-error-${e.name}`,placeholder:e.placeholder,multiple:e.multiple,disabled:e.disabled},null,8,["modelValue","id","class","aria-describedby","placeholder","multiple","disabled"]),N("small",{class:"p-error",id:`text-error-${e.name}`},u(s(r)),9,T)]))}});async function I({axios:n,file:l,state:o,selectedImage:r,toast:a,t:d}){var t;o.btnLoading=!0;try{let e=new FormData;e.append("file",l);const i=await n.post("https://api.100100year.com/api/customer/upload-file",e,{headers:{"Content-Type":"multipart/form-data"}});r.value=(t=i.data)==null?void 0:t.filename,o.btnLoading=!1}catch(e){await F({toast:a,error:"error",summary:d("toast.summary.error"),detail:e})}}export{E as _,I as u};
