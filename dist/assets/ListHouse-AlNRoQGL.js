import{d as q,a as D,H as F,u as H,o as L,P as z,e as m,f as t,g as i,l as M,h as K,F as C,i as $,y as B,p as O,k as G,j as c,t as s,K as _,_ as J}from"./index-8ojs7Ets.js";import{s as Q}from"./divider.esm-1GIG4_0w.js";import{h as U}from"./home.store-QEHp98ur.js";import{f as I}from"./format.currency-CcPyHQva.js";import{s as W}from"./paginator.esm-XmyQxgoP.js";import{s as X}from"./progressspinner.esm-VJrWnjwu.js";import{d as Y}from"./store-lePzHHRM.js";import"./axios.config-EMV3l8KB.js";import"./format.date--bimoUa2.js";import"./dropdown.esm-uqjqw02i.js";import"./overlayeventbus.esm-3Jt3uc49.js";import"./inputnumber.esm-E6GZnduC.js";import"./inputtext.esm-goY0yw6I.js";import"./service-uUjPpI3s.js";const Z=h=>(O("data-v-4073d62d"),h=h(),G(),h),ee={class:"flex justify-content-center"},te={style:{"min-height":"50vh"}},se={class:"profile-container"},oe=["onClick"],ae=["src"],re={class:"box-detail"},ie={style:{"font-size":"24px","font-weight":"bold"}},le={style:{background:"green",padding:"2px","border-radius":"4px",color:"white"}},ne={style:{"margin-left":"5px"}},de={style:{background:"#00b7c3",padding:"2px","border-radius":"4px",color:"white"}},pe={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},ce=["onClick"],_e=["src"],ue={class:"box-detail"},ge={style:{"font-size":"24px","font-weight":"bold"}},me={style:{background:"green",padding:"2px","border-radius":"4px",color:"white"}},he={style:{"margin-left":"5px"}},fe={style:{background:"#00b7c3",padding:"2px","border-radius":"4px",color:"white"}},ye={style:{overflow:"hidden","text-overflow":"ellipsis","white-space":"nowrap"}},ve=Z(()=>t("br",null,null,-1)),be=q({__name:"ListHouse",setup(h){const{getAllCountries:N,getCountries:f}=Y(),{form:w,getAll:x,state:y,setStateFilter:o,realEstateTypes:v,isProgressBar:A,getAllData:E}=U(),b=D(),{query:r}=F(),{t:k}=H();L(async()=>{await P(),await N(),await E(),f.data.props.unshift({id:"all",name:k("messages.all")}),w.country_id=f.data.props.length>0?f.data.props[0].id:void 0,v.data.props.unshift({id:"all",name:k("messages.all")}),w.real_estate_type_id=v.data.props.length>0?v.data.props[0].id:void 0});async function P(){if(Object.keys(r).length!==0){o.page=r.page?Number(r.page):1,o.limit=r.limit?Number(r.limit):10;const a=r.real_estate_type_id!==void 0?String(r.real_estate_type_id):void 0,p=r.service_model!==void 0?String(r.service_model):void 0,e=r.room_type!==void 0?String(r.room_type):void 0,d=r.total_bed!==void 0?String(r.total_bed):void 0,l=r.total_bath!==void 0?String(r.total_bath):void 0,n=r.country_id!==void 0?String(r.country_id):void 0;o.filter&&(o.filter.real_estate_type_id=a!=="all"?a:"",o.filter.service_model=p!=="all"?p:"",o.filter.room_type=e!=="all"?e:"",o.filter.total_bed=d!=="all"?d:"",o.filter.total_bath=l!=="all"?l:"",o.filter.country_id=n!=="all"?n:""),b.push({query:{page:o.page,limit:o.limit,real_estate_type_id:a,service_model:p,room_type:e,total_bed:d,total_bath:l,country_id:n}})}await R()}const R=async()=>{await x()},S=async a=>{b.push({name:"detail.house",params:{id:a}})};async function T(a){o.page=a.page+1,o.limit=a.rows;const{page:p,limit:e}=o;b.push({name:"home",query:{page:p,limit:e}}),await x()}const V=z(()=>{let a=0;return o.page&&o.limit&&(a=(o.page-1)*o.limit),a});return(a,p)=>(c(),m("div",null,[t("div",ee,[i(A).isShow?(c(),M(i(X),{key:0})):K("",!0)]),t("div",te,[t("div",se,[(c(!0),m(C,null,$(i(y).data.props,(e,d)=>{var l,n,u,g;return c(),m("div",{class:"profile-box",key:d,onClick:j=>S(e.id)},[t("img",{src:e.image,alt:"user header",class:"img"},null,8,ae),t("div",re,[t("p",ie,s(i(I)((n=(l=e.price)==null?void 0:l[0])==null?void 0:n.price,(u=e.country)==null?void 0:u.currency)),1),t("p",null,s(e.name),1),t("p",null,[t("span",le,s(e.status),1),t("span",ne,", "+s(e.service_model),1),_(" , "),t("span",de,s(a.$t("messages.refer"))+": "+s(e.refer),1)]),t("p",null,[_(s((g=e.trans_real_estate_type)==null?void 0:g.name)+", ",1),t("span",null,s(a.$t("messages.long"))+": "+s(e.long),1),_(", "),t("span",null,s(a.$t("messages.wide"))+": "+s(e.wide),1)]),t("p",pe,s(e.village),1)])],8,oe)}),128)),(c(!0),m(C,null,$(i(y).data.props,(e,d)=>{var l,n,u,g;return c(),m("div",{class:"profile-box",key:d,onClick:j=>S(e.id)},[t("img",{src:e.image,alt:"user header",class:"img"},null,8,_e),t("div",ue,[t("p",ge,s(i(I)((n=(l=e.price)==null?void 0:l[0])==null?void 0:n.price,(u=e.country)==null?void 0:u.currency)),1),t("p",null,s(e.name),1),t("p",null,[t("span",me,s(e.status),1),t("span",he,", "+s(e.service_model),1),_(" , "),t("span",fe,s(a.$t("messages.refer"))+": "+s(e.refer),1)]),t("p",null,[_(s((g=e.trans_real_estate_type)==null?void 0:g.name)+", ",1),t("span",null,s(a.$t("messages.long"))+": "+s(e.long),1),_(", "),t("span",null,s(a.$t("messages.wide"))+": "+s(e.wide),1)]),t("p",ye,s(e.village),1)])],8,ce)}),128))])]),ve,B(i(Q)),B(i(W),{first:V.value,rows:i(o).limit,totalRecords:i(y).data.total,onPage:T},null,8,["first","rows","totalRecords"])]))}}),Ve=J(be,[["__scopeId","data-v-4073d62d"]]);export{Ve as default};
