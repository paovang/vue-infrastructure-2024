import{a as _}from"./user.store-SHlnrQmH.js";import{s as $}from"./divider.esm-MvTsZtAH.js";import{d as P,a as v,P as k,o as L,e as R,f as l,t as n,y as r,g as t,E as o,p as S,k as C,j as U,U as c,Q as d,_ as I}from"./index-EmxhuGEG.js";import{s as i,a as x}from"./column.esm-E4Rx-pwY.js";import{c as N}from"./concat-9eYZKFoS.js";import{s as T}from"./image.esm-NlkDQUra.js";import"./axios.config-gXfSTYZr.js";import"./paginator.esm-yRBMZm5k.js";import"./dropdown.esm-BtHeosNg.js";import"./overlayeventbus.esm-IQycVzYe.js";import"./inputnumber.esm-orhYZ-ne.js";import"./inputtext.esm-tNwm8c1U.js";import"./index.esm-RkrSsBNh.js";import"./checkbox.esm-zZ3eCQ8E.js";import"./index.esm-KR6aTjXk.js";import"./index.esm-d-vbZBne.js";const A=p=>(S("data-v-bd711d38"),p=p(),C(),p),B={class:"card"},V={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},j={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},z={class:"mb-3"},D=A(()=>l("br",null,null,-1)),E={class:"flex flex-wrap gap-2 btn-right"},F=P({__name:"ListUsers",setup(p){const{getAll:f,state:m,setStateFilter:s}=_(),h=v(),g=async e=>{h.push({name:"admin.edit.user",params:{id:e}})},b=async()=>{h.push({name:"admin.add.user"})},y=k(()=>{let e=0;return s.page&&s.limit&&(e=(s.page-1)*s.limit),e});async function w(e){s.page=e.page+1,s.limit=e.rows,await u()}L(async()=>{await u()});const u=async()=>{await f()};return(e,M)=>(U(),R("div",B,[l("div",V,[l("span",j,[l("h2",z,n(e.$t("table.title.user")),1)]),l("span",null,[r(t(c),{label:e.$t("button.add"),severity:"info",onClick:b},null,8,["label"])])]),r(t($)),D,r(t(x),{value:t(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:t(m).isLoading,lazy:"",totalRecords:t(m).data.total,onPage:w,first:y.value,rows:t(s).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${e.$t("table.pagination.show")} {first} ${e.$t("table.pagination.to")} {last} ${e.$t("table.pagination.from")} {totalRecords} ${e.$t("table.pagination.row")}`},{default:o(()=>[r(t(i),{field:"id",header:e.$t("table.header.index")},{body:o(a=>[d(n(a.index+1),1)]),_:1},8,["header"]),r(t(i),{field:"profile",header:e.$t("table.header.profile"),headerStyle:"min-width: 8rem",frozen:""},{body:o(({data:a})=>[r(t(T),{src:a.profile,alt:"Image",preview:"",style:{"max-width":"80px"}},null,8,["src"])]),_:1},8,["header"]),r(t(i),{header:e.$t("table.header.name")},{body:o(({data:a})=>[d(n(a.name),1)]),_:1},8,["header"]),r(t(i),{header:e.$t("table.header.email")},{body:o(({data:a})=>[d(n(a.email),1)]),_:1},8,["header"]),r(t(i),{header:e.$t("table.header.role")},{body:o(({data:a})=>[d(n(a.role.name),1)]),_:1},8,["header"]),r(t(i),{header:e.$t("table.header.permission")},{body:o(({data:a})=>[d(n(t(N)(a.permissions)),1)]),_:1},8,["header"]),r(t(i),{headerStyle:"width: 10rem"},{body:o(({data:a})=>[l("div",E,[r(t(c),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:O=>g(a.id)},null,8,["onClick"]),r(t(c),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"}})])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),ie=I(F,[["__scopeId","data-v-bd711d38"]]);export{ie as default};
