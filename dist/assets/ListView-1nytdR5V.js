import{s as n,a as b}from"./column.esm-9UPKlPQF.js";import{d as w,a as P,H as $,N as v,o as k,e as L,f as r,t as m,y as o,E as l,g as a,j as R,O as u,P as C,b as N,_ as S}from"./index-Ieph5Qgc.js";import{a as T}from"./store-eQWKBlri.js";import{v as E}from"./validation-permissions-ZONgxtxv.js";import"./paginator.esm-4rh9lzK1.js";import"./dropdown.esm-BZeqJQ9m.js";import"./overlayeventbus.esm-di4A_FML.js";import"./inputnumber.esm-f_fisCeD.js";import"./inputtext.esm-RZCRaX-S.js";import"./index.esm-W2Z0rEsa.js";import"./checkbox.esm-EWaDW57o.js";import"./index.esm-b3fvrvPV.js";import"./axios.config-EMV3l8KB.js";const I={class:"card"},O={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},V={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},x={class:"mb-3"},j={class:"flex flex-wrap gap-2 btn-right"},q=w({__name:"ListView",setup(B){const{push:p}=P(),{query:s}=$(),{getAll:c,state:d,setStateFilter:t}=T(),f=e=>{p({name:"admin.edit.policy",params:{id:e}})};async function y(e){t.page=e.page+1,t.limit=e.rows;const{page:g,limit:i}=t;p({name:"admin.policy",query:{page:g,limit:i}}),await c()}const h=v(()=>{let e=0;return t.page&&t.limit&&(e=(t.page-1)*t.limit),e});async function _(){Object.keys(s).length!==0&&(t.page=s.page?Number(s.page):1,t.limit=s.limit?Number(s.limit):10,p({query:{page:t.page,limit:t.limit}})),await c()}return k(async()=>{await _()}),(e,g)=>(R(),L("div",null,[r("div",I,[r("div",O,[r("span",V,[r("h2",x,m(e.$t("table.title.policy")),1)])]),o(a(b),{value:a(d).data.props,loading:a(d).isLoading,lazy:"",tableStyle:"min-width: 50rem",totalRecords:a(d).data.total,onPage:y,paginator:"",first:h.value,rows:a(t).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",rowsPerPageOptions:[5,10,25],currentPageReportTemplate:`${e.$t("table.pagination.show")} {first} ${e.$t("table.pagination.to")} {last} ${e.$t("table.pagination.from")} {totalRecords} ${e.$t("table.pagination.row")}`},{default:l(()=>[o(a(n),{field:"id",header:e.$t("table.header.index")},{body:l(i=>[u(m(i.index+1),1)]),_:1},8,["header"]),o(a(n),{field:"title",header:e.$t("table.header.title")},null,8,["header"]),o(a(n),{field:"policy_type",header:e.$t("table.header.policy_type")},{body:l(({data:i})=>[u(m(i.policy_type==="sign_up"?e.$t("messages.sign_up"):e.$t("messages.policy_return")),1)]),_:1},8,["header"]),o(a(n),{headerStyle:"width: 10rem"},{body:l(({data:i})=>[r("div",j,[o(a(C),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:D=>f(i.id),disabled:a(E)(a(N).POLICY.UPDATE)},null,8,["onClick","disabled"])])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])])]))}}),Z=S(q,[["__scopeId","data-v-096240ba"]]);export{Z as default};
