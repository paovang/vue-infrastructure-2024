import{a as P}from"./user.store-X6mSGOXM.js";import{s as v}from"./divider.esm-4kto13Oj.js";import{d as S,a as R,N as E,o as k,e as I,f as l,t as n,y as s,g as e,E as r,p as L,k as C,j as N,b as c,P as h,O as d,_ as U}from"./index-zggZ08vq.js";import{s as i,a as A}from"./column.esm-vGZhwhf0.js";import{b as T}from"./concat-ZmUf8qUH.js";import{s as D}from"./image.esm-XHEcYgXD.js";import{v as u}from"./validation-permissions-7bmT14NV.js";import"./axios.config-EMV3l8KB.js";import"./paginator.esm-d8gvrZDl.js";import"./dropdown.esm-8lYh6uYZ.js";import"./overlayeventbus.esm-L1MVp8Ni.js";import"./inputnumber.esm-j78nj6E3.js";import"./inputtext.esm-1AIwfLz5.js";import"./index.esm-BAw_-E1K.js";import"./checkbox.esm-RaDXThW4.js";import"./index.esm-ZU0qJv8S.js";import"./format.currency-CcPyHQva.js";import"./index.esm-ZRkQrLPl.js";const M=p=>(L("data-v-119cb7d2"),p=p(),C(),p),x={class:"card"},B={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},O={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},V={class:"mb-3"},j=M(()=>l("br",null,null,-1)),z={class:"flex flex-wrap gap-2 btn-right"},F=S({__name:"ListUsers",setup(p){const{getAll:g,state:m,setStateFilter:o}=P(),b=R(),y=async t=>{b.push({name:"admin.edit.user",params:{id:t}})},w=async()=>{b.push({name:"admin.add.user"})},_=E(()=>{let t=0;return o.page&&o.limit&&(t=(o.page-1)*o.limit),t});async function $(t){o.page=t.page+1,o.limit=t.rows,await f()}k(async()=>{await f()});const f=async()=>{await g()};return(t,G)=>(N(),I("div",x,[l("div",B,[l("span",O,[l("h2",V,n(t.$t("table.title.user")),1)]),l("span",null,[s(e(h),{label:t.$t("button.add"),severity:"info",onClick:w,disabled:e(u)(e(c).ADMIN_USER.CREATE)},null,8,["label","disabled"])])]),s(e(v)),j,s(e(A),{value:e(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:e(m).isLoading,lazy:"",totalRecords:e(m).data.total,onPage:$,first:_.value,rows:e(o).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${t.$t("table.pagination.show")} {first} ${t.$t("table.pagination.to")} {last} ${t.$t("table.pagination.from")} {totalRecords} ${t.$t("table.pagination.row")}`},{default:r(()=>[s(e(i),{field:"id",header:t.$t("table.header.index")},{body:r(a=>[d(n(a.index+1),1)]),_:1},8,["header"]),s(e(i),{field:"profile",header:t.$t("table.header.profile"),headerStyle:"min-width: 8rem",frozen:""},{body:r(({data:a})=>[s(e(D),{src:a.profile,alt:"Image",preview:"",style:{"max-width":"80px"}},null,8,["src"])]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.name")},{body:r(({data:a})=>[d(n(a.name),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.email")},{body:r(({data:a})=>[d(n(a.email),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.role")},{body:r(({data:a})=>[d(n(a.role.name),1)]),_:1},8,["header"]),s(e(i),{header:t.$t("table.header.permission")},{body:r(({data:a})=>[d(n(e(T)(a.permissions)),1)]),_:1},8,["header"]),s(e(i),{headerStyle:"width: 10rem"},{body:r(({data:a})=>[l("div",z,[s(e(h),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:q=>y(a.id),disabled:e(u)(e(c).ADMIN_USER.UPDATE)},null,8,["onClick","disabled"]),s(e(h),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"},disabled:e(u)(e(c).ADMIN_USER.DELETE)},null,8,["disabled"])])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),pe=U(F,[["__scopeId","data-v-119cb7d2"]]);export{pe as default};
