import{d as B,H as I,u as E,M,a as N,o as T,e as C,f as s,Q as p,t as m,y as l,g as e,E as F,V as R,p as j,k as D,j as U,U as q,_ as z}from"./index-ELpKldId.js";import{u as H}from"./vee-validate.esm-f_1ucWms.js";import{a as L}from"./store-xR3SMLo3.js";import{s as O}from"./divider.esm-Quyk5Ljd.js";import{_ as P}from"./FormInputText.vue_vue_type_script_setup_true_lang-WXLWeGTd.js";import{s as Q}from"./editor.esm-k4D1_Dk1.js";import"./axios.config-gXfSTYZr.js";import"./inputtext.esm-Ao4Vw9Da.js";const r=a=>(j("data-v-e2701406"),a=a(),D(),a),W={class:"card"},A={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},G={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},J=r(()=>s("i",{class:"pi pi-arrow-left",style:{color:"green"}},null,-1)),K=r(()=>s("br",null,null,-1)),X={class:"columns is-12 is-multiline"},Y={class:"column is-12 is-mobile-12"},Z={class:"column is-12 is-mobile-12",style:{"margin-top":"-30px"}},ss=r(()=>s("span",{class:"text-red-500"}," *",-1)),ts={class:"column is-12 is-mobile-12",style:{"text-align":"right"}},es=r(()=>s("i",{class:"pi pi-save",style:{"margin-right":"8px"}},null,-1)),as=B({__name:"Edit",setup(a){const{getOne:g,getById:o,form:n,state:u,update:w}=L(),f=I(),{t:c}=E(),_=M(),b=N(),{handleSubmit:v,setFieldValue:x,handleReset:S}=H({}),y=v(async t=>{n.id=f.params.id,n.title=t.title,n.description=o.data.props.description,await w(),u.error?await V():(await $(),await S(),await h())}),V=()=>{_.add({severity:"error",summary:c("toast.summary.error"),detail:`${u.error}`,life:3e3})},$=()=>{_.add({severity:"success",summary:c("toast.summary.success"),detail:c("toast.detail.successfully"),life:3e3})},h=async()=>{await g(f.params.id);const t=o.data.props;x("title",t.title)},k=async()=>{b.push({name:"admin.policy"})};return T(async()=>{await h()}),(t,i)=>(U(),C("div",W,[s("div",A,[s("span",G,[s("h2",{style:{"font-weight":"bold","font-size":"20px"},class:"arrow-left",onClick:k},[J,p(" "+m(t.$t("messages.policy")),1)])])]),l(e(O)),K,s("form",{onSubmit:i[1]||(i[1]=R((...d)=>e(y)&&e(y)(...d),["prevent"]))},[s("div",X,[s("div",Y,[l(P,{name:"title",label:t.$t("messages.title"),required:"",placeholder:t.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",Z,[s("label",null,[p(m(t.$t("messages.description"))+" ",1),ss]),l(e(Q),{editorStyle:"min-height: 400px",modelValue:e(o).data.props.description,"onUpdate:modelValue":i[0]||(i[0]=d=>e(o).data.props.description=d),style:{"margin-top":"10px"}},null,8,["modelValue"])])]),s("div",ts,[l(e(q),{style:{"font-family":"'NotoSansLao','Montserrat', 'sans-serif'"},type:"submit",severity:"info"},{default:F(()=>[es,p(" "+m(t.$t("button.edit_data")),1)]),_:1})])],32)]))}}),ms=z(as,[["__scopeId","data-v-e2701406"]]);export{ms as default};
