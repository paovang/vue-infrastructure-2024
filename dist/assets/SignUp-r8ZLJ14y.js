import{d as D,u as E,M as L,o as N,r as j,e as A,f as s,t as _,y as i,g as n,Q as O,V as Q,p as R,k as W,j as G,U as H,_ as J}from"./index-kCYvOSZ8.js";import{_ as m}from"./FormInputText.vue_vue_type_script_setup_true_lang-Ee7yI_9I.js";import{_ as K}from"./FormInputFile.vue_vue_type_script_setup_true_lang-u8q34wtF.js";import{s as w}from"./divider.esm-YmBR6MbF.js";import{_ as y}from"./FormInputPassword.vue_vue_type_script_setup_true_lang-epBMG-zm.js";import{c as P,a as d,u as X}from"./index.esm-J1xAaMuH.js";import{h as Y}from"./home.store-CyoZ_dQy.js";import{s as Z}from"./dropdown.esm-0C01Vzs6.js";import{c as M}from"./axios.config-gXfSTYZr.js";import"./inputtext.esm-9hoMh_xJ.js";import"./index.esm-FgsmD1V6.js";import"./overlayeventbus.esm-pYDgxBQ7.js";import"./format.date--bimoUa2.js";const ee=t=>P({name:d().required(t.name),owner:d().required(t.owner),address:d().required(t.address),phone_number:d().required(t.phone_number),email:d().required(t.email),password:d().required(t.password),password_confirmation:d().required(t.password_confirmation)}),se=ee,f=t=>(R("data-v-db54685f"),t=t(),W(),t),ae={class:"signup-form"},oe={style:{"font-size":"20px","font-weight":"bold"}},le={style:{"font-weight":"normal","font-size":"16px",color:"brown","margin-top":"10px !important"}},ie=f(()=>s("br",null,null,-1)),te={class:"columns is-12 is-multiline"},ne={class:"column is-6 is-mobile-12"},re=f(()=>s("span",{class:"text-red-500"}," *",-1)),de={class:"column is-6 is-mobile-12",style:{"margin-top":"-10px"}},me={class:"column is-6 is-mobile-12 is-margin-top"},pe={class:"column is-6 is-mobile-12 is-margin-top"},ce={class:"column is-6 is-mobile-12 is-margin-top"},ue={class:"column is-6 is-mobile-12 is-margin-top"},he={class:"column is-6 is-mobile-12 is-margin-top"},_e={class:"column is-6 is-mobile-12 is-margin-pass-confirm"},fe={class:"column is-12 is-mobile-12",style:{"margin-top":"-10px"}},ge={class:"column is-12 is-mobile-12 is-margin-top"},be=f(()=>s("br",null,null,-1)),we=D({__name:"SignUp",setup(t){const{formSignUp:l,countries:p,getAllData:g,state:c,register:$}=Y(),{t:a}=E(),u=L(),T={name:a("placeholder.inputText"),owner:a("placeholder.inputText"),address:a("placeholder.inputText"),phone_number:a("placeholder.inputText"),email:a("placeholder.inputText"),password:a("placeholder.inputText"),password_confirmation:a("placeholder.inputText")},{handleSubmit:v,handleReset:S}=X({validationSchema:se(T)});N(async()=>{await g(),l.country_id=p.data.props.length>0?p.data.props[0].id:null});const b=v(async e=>{if(l.name=e.name,l.owner=e.owner,l.address=e.address,l.email=e.email,l.phone_number=e.phone_number,l.password=e.password,l.password_confirmation=e.password_confirmation,l.id_no=e.id_no,l.id_image=h.value,await $(),c.error)await U();else{await B(),await S(),await g(),h.value="";const o=document.getElementById("id_image");o.value="",l.country_id=p.data.props.length>0?p.data.props[0].id:null}}),q=async e=>{const o=e.target.files[0];if(!await F(o)){await x(),e.target.value="";return}if(!await V(o)){await k(),e.target.value="";return}await I(o)},F=async e=>["image/jpeg","image/jpg","image/png"].includes(e.type),V=async e=>e.size<=2097152,h=j(),I=async e=>{var o;c.btnLoading=!0;try{let r=new FormData;r.append("file",e);const C=await M.post("http://188.166.183.153:8000/api/customer/upload-file",r,{headers:{"Content-Type":"multipart/form-data"}});h.value=(o=C.data)==null?void 0:o.filename,c.btnLoading=!1}catch(r){await z(r)}},z=e=>{u.add({severity:"error",summary:a("toast.summary.error"),detail:e,life:3e3})},U=()=>{u.add({severity:"error",summary:a("toast.summary.error"),detail:`${c.error}`,life:3e3})},B=()=>{u.add({severity:"success",summary:a("toast.summary.success"),detail:a("toast.detail.successfully"),life:3e3})},x=()=>{u.add({severity:"error",summary:a("toast.summary.error"),detail:a("toast.summary.sign_up_valid_file_mimes"),life:3e3})},k=()=>{u.add({severity:"error",summary:a("toast.summary.error"),detail:a("toast.summary.sign_up_valid_file_size"),life:3e3})};return(e,o)=>(G(),A("div",ae,[s("h2",oe,_(e.$t("messages.sign_up")),1),i(n(w)),s("p",le," * "+_(e.$t("messages.warning_sign_up")),1),ie,s("form",{onSubmit:o[1]||(o[1]=Q((...r)=>n(b)&&n(b)(...r),["prevent"]))},[s("div",te,[s("div",ne,[s("label",null,[O(_(e.$t("messages.country"))+" ",1),re]),i(n(Z),{name:"countries",modelValue:n(l).country_id,"onUpdate:modelValue":o[0]||(o[0]=r=>n(l).country_id=r),options:n(p).data.props,optionLabel:"name",placeholder:e.$t("placeholder.dropdownSelect"),class:"w-full",optionValue:"id",highlightOnSelect:!0},null,8,["modelValue","options","placeholder"])]),s("div",de,[i(m,{name:"name",label:e.$t("messages.name"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",me,[i(m,{name:"owner",label:e.$t("messages.owner"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",pe,[i(m,{name:"address",label:e.$t("messages.address"),required:"",placeholder:e.$t("placeholder.inputTextAddress"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ce,[i(m,{name:"phone_number",label:e.$t("messages.phone_number"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ue,[i(m,{name:"email",label:e.$t("messages.email"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",he,[i(y,{name:"password",label:e.$t("messages.password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",_e,[i(y,{name:"password_confirmation",label:e.$t("messages.confirm_password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",fe,[i(m,{name:"id_no",label:e.$t("messages.id_no"),required:"",placeholder:e.$t("placeholder.inputTextIdNo"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ge,[i(K,{name:"id_image",label:e.$t("messages.id_image"),required:"",multiple:!0,class:"h-full",onChange:q},null,8,["label"])])]),i(n(w)),be,i(n(H),{class:"w-full surface-500 border-none",type:"submit",label:e.$t("button.sign_up"),loading:n(c).btnLoading},null,8,["label","loading"])],32)]))}}),ke=J(we,[["__scopeId","data-v-db54685f"]]);export{ke as default};
