import{d as x,u as z,M as B,a as N,o as E,r as w,e as A,f as s,t as _,y as i,g as l,Q as D,V as L,p as P,k as R,j,U as O,_ as Q}from"./index-lHHUaHrB.js";import{_ as p}from"./FormInputText.vue_vue_type_script_setup_true_lang-1RZ3WOlU.js";import{_ as W,u as G}from"./upload-file-VNYgLHZe.js";import{s as y}from"./divider.esm-JnR7MM4A.js";import{_ as $}from"./FormInputPassword.vue_vue_type_script_setup_true_lang-mvqttnO8.js";import{u as H}from"./vee-validate.esm-AoIqEz5p.js";import{c as J,a as n}from"./index.esm-z9dUg8cd.js";import{h as K}from"./home.store-Q0BnjIDa.js";import{s as X}from"./dropdown.esm-JPa_IcjP.js";import{c as Y}from"./axios.config-gXfSTYZr.js";import{v as Z,s as S,i as M}from"./toast-FY7odgkM.js";import{s as ee}from"./scroll-top-GikMqvpz.js";import"./inputtext.esm-AWs-KwBd.js";import"./index.esm-YsiAz6JQ.js";import"./overlayeventbus.esm-01Kc7sQv.js";import"./format.date--bimoUa2.js";const se=r=>J({name:n().required(r.name),address:n().required(r.address),phone_number:n().required(r.phone_number),email:n().required(r.email),password:n().required(r.password),password_confirmation:n().required(r.password_confirmation)}),oe=se,g=r=>(P("data-v-321f3a37"),r=r(),R(),r),ae={class:"signup-form"},re={style:{"font-size":"20px","font-weight":"bold"}},ie={style:{"font-weight":"normal","font-size":"16px",color:"brown","margin-top":"10px !important"}},le=g(()=>s("br",null,null,-1)),te={class:"columns is-12 is-multiline"},ne={class:"column is-6 is-mobile-12"},de=g(()=>s("span",{class:"text-red-500"}," *",-1)),me={class:"column is-6 is-mobile-12",style:{"margin-top":"-10px"}},pe={class:"column is-12 is-mobile-12 is-margin-top"},ce={class:"column is-6 is-mobile-12 is-margin-top"},ue={class:"column is-6 is-mobile-12 is-margin-top"},he={class:"column is-6 is-mobile-12 is-margin-top"},fe={class:"column is-6 is-mobile-12 is-margin-pass-confirm"},_e={class:"column is-12 is-mobile-12 is-margin-top"},ge=g(()=>s("br",null,null,-1)),be=x({__name:"SignUp",setup(r){const{formSignUp:o,countries:c,getAllData:T,state:d,register:v}=K(),{t:a}=z(),m=B(),q=N(),V={name:a("placeholder.inputText"),address:a("placeholder.inputText"),phone_number:a("placeholder.inputText"),email:a("placeholder.inputText"),password:a("placeholder.inputText"),password_confirmation:a("placeholder.inputText")},{handleSubmit:F,handleReset:I}=H({validationSchema:oe(V)});E(async()=>{await C(),await I(),await T(),o.country_id=c.data.props.length>0?c.data.props[0].id:null});const b=F(async e=>{o.name=String(e.name),o.address=String(e.address),o.email=String(e.email),o.phone_number=String(e.phone_number),o.password=String(e.password),o.password_confirmation=String(e.password_confirmation),o.profile=u.value,o.isValidToServer=!0,await v(),d.error?await U():q.push({name:"confirm.sign.up",query:{name:e.name,address:e.address,email:e.email,phone_number:e.phone_number,password:e.password,password_confirmation:e.password_confirmation,profile:u.value,country_id:o.country_id}})}),U=()=>{m.add({severity:"error",summary:a("toast.summary.error"),detail:`${d.error}`,life:3e3})},u=w(),k=async e=>{const t=e.target.files[0];if(!await Z(t)){await S({toast:m,error:"error",summary:a("toast.summary.error"),detail:a("toast.summary.profile_valid_file_mimes")}),e.target.value="";return}if(!await M(t)){await S({toast:m,error:"error",summary:a("toast.summary.error"),detail:a("toast.summary.profile_valid_file_size")}),e.target.value="";return}await G({axios:Y,file:t,state:d,selectedImage:u,toast:m,t:a})},h=w(),C=async()=>{h.value&&await ee(h)};return(e,t)=>(j(),A("div",ae,[s("h2",re,_(e.$t("messages.sign_up")),1),i(l(y)),s("p",ie," * "+_(e.$t("messages.warning_sign_up")),1),le,s("form",{onSubmit:t[1]||(t[1]=L((...f)=>l(b)&&l(b)(...f),["prevent"]))},[s("div",te,[s("div",ne,[s("label",null,[D(_(e.$t("messages.country"))+" ",1),de]),i(l(X),{name:"countries",modelValue:l(o).country_id,"onUpdate:modelValue":t[0]||(t[0]=f=>l(o).country_id=f),options:l(c).data.props,optionLabel:"name",placeholder:e.$t("placeholder.dropdownSelect"),class:"w-full",optionValue:"id",highlightOnSelect:!0,ref_key:"autoFocusCursor",ref:h},null,8,["modelValue","options","placeholder"])]),s("div",me,[i(p,{name:"name",label:e.$t("messages.full_name"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",pe,[i(p,{name:"address",label:e.$t("messages.address"),required:"",placeholder:e.$t("placeholder.inputTextAddress"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ce,[i(p,{name:"phone_number",label:e.$t("messages.phone_number"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",ue,[i(p,{name:"email",label:e.$t("messages.email"),required:"",placeholder:e.$t("placeholder.inputText"),class:"h-full"},null,8,["label","placeholder"])]),s("div",he,[i($,{name:"password",label:e.$t("messages.password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",fe,[i($,{name:"password_confirmation",label:e.$t("messages.confirm_password"),placeholder:e.$t("placeholder.inputText")},null,8,["label","placeholder"])]),s("div",_e,[i(W,{name:"profile",label:e.$t("messages.profile"),required:"",multiple:!0,class:"h-full",onChange:k},null,8,["label"])])]),i(l(y)),ge,i(l(O),{class:"w-full surface-500 border-none",type:"submit",label:e.$t("button.sign_up"),loading:l(d).btnLoading},null,8,["label","loading"])],32)]))}}),Ne=Q(be,[["__scopeId","data-v-321f3a37"]]);export{Ne as default};
