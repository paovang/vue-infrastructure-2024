import{o as L}from"./user.store-sT3EahS0.js";import{s as S}from"./divider.esm-w7TYeOde.js";import{d as R,u as D,M as j,N as U,a as I,P as N,o as T,e as x,f as d,t as n,y as s,g as t,E as i,p as A,k as B,j as V,U as u,Q as c,_ as E}from"./index-PzTuJOUN.js";import{s as l,a as F}from"./column.esm-QV7tXF7M.js";import{c as M}from"./concat-9eYZKFoS.js";import"./axios.config-gXfSTYZr.js";import"./paginator.esm-5HEz00dG.js";import"./dropdown.esm-ZDqzpD83.js";import"./overlayeventbus.esm-ReU6tk2n.js";import"./inputnumber.esm-F6aDnC6G.js";import"./inputtext.esm-ASbIeNyZ.js";import"./index.esm-dXNIdIl2.js";import"./checkbox.esm-BpEkv6h6.js";import"./index.esm-Vq0scFfZ.js";const q=p=>(A("data-v-b92626a5"),p=p(),B(),p),z={class:"card"},O={class:"flex flex-wrap gap-2 align-items-center justify-content-between"},Q={class:"p-input-icon-left w-full sm:w-20rem flex-order-1 sm:flex-order-0"},G={class:"mb-3"},H=q(()=>d("br",null,null,-1)),J={class:"flex flex-wrap gap-2 btn-right"},K=R({__name:"ListUsers",setup(p){const{t:o}=D(),h=j(),b=U(),{remove:y,getAll:w,state:m,setStateFilter:r}=L(),f=I(),_=async e=>{f.push({name:"owner.edit.user",params:{id:e}})},$=async()=>{f.push({name:"owner.add.user"})},P=N(()=>{let e=0;return r.page&&r.limit&&(e=(r.page-1)*r.limit),e});async function v(e){r.page=e.page+1,r.limit=e.rows,await g()}const k=async e=>{b.require({message:o("confirmDelete.message"),header:o("confirmDelete.header"),rejectLabel:o("confirmDelete.rejectLabel"),acceptLabel:o("confirmDelete.acceptLabel"),rejectClass:"p-button-secondary p-button-outlined",acceptClass:"p-button-danger",accept:async()=>{await y(e),h.add({severity:"success",summary:o("toast.summary.delete"),detail:o("toast.detail.delete"),life:3e3})},reject:()=>{h.add({severity:"error",summary:o("toast.summary.cancel_delete"),detail:o("toast.detail.cancel_delete"),life:3e3})}})};T(async()=>{await g()});const g=async()=>{await w()};return(e,W)=>(V(),x("div",z,[d("div",O,[d("span",Q,[d("h2",G,n(e.$t("table.title.user")),1)]),d("span",null,[s(t(u),{label:e.$t("button.add"),severity:"info",onClick:$},null,8,["label"])])]),s(t(S)),H,s(t(F),{value:t(m).data.props,paginator:"",rowsPerPageOptions:[5,10,20,50],tableStyle:"min-width: 50rem",loading:t(m).isLoading,lazy:"",totalRecords:t(m).data.total,onPage:v,first:P.value,rows:t(r).limit,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport RowsPerPageDropdown",currentPageReportTemplate:`${e.$t("table.pagination.show")} {first} ${e.$t("table.pagination.to")} {last} ${e.$t("table.pagination.from")} {totalRecords} ${e.$t("table.pagination.row")}`},{default:i(()=>[s(t(l),{field:"id",header:e.$t("table.header.index")},{body:i(a=>[c(n(a.index+1),1)]),_:1},8,["header"]),s(t(l),{header:e.$t("table.header.name"),headerStyle:"min-width: 10rem"},{body:i(({data:a})=>[c(n(a.name),1)]),_:1},8,["header"]),s(t(l),{header:e.$t("table.header.email")},{body:i(({data:a})=>[c(n(a.email),1)]),_:1},8,["header"]),s(t(l),{header:e.$t("table.header.role"),headerStyle:"min-width: 10rem"},{body:i(({data:a})=>[c(n(a.role.name),1)]),_:1},8,["header"]),s(t(l),{header:e.$t("table.header.permission")},{body:i(({data:a})=>[c(n(t(M)(a.permissions)),1)]),_:1},8,["header"]),s(t(l),{headerStyle:"min-width: 8rem"},{body:i(({data:a})=>[d("div",J,[s(t(u),{type:"button",icon:"pi pi-pencil",rounded:"",severity:"warning",style:{color:"white"},onClick:C=>_(a.id)},null,8,["onClick"]),s(t(u),{type:"button",icon:"pi pi-trash",rounded:"",severity:"danger",style:{color:"white"},onClick:C=>k(a.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["value","loading","totalRecords","first","rows","currentPageReportTemplate"])]))}}),pe=E(K,[["__scopeId","data-v-b92626a5"]]);export{pe as default};
